<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hxoms.modules.omsregcadre.mapper.OmsEntryexitRecordMapper">
  <resultMap id="BaseResultMap" type="com.hxoms.modules.omsregcadre.entity.OmsEntryexitRecord">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 20 20:17:11 CST 2020.
    -->
    <id column="ID" jdbcType="VARCHAR" property="id" />
    <result column="IMPORT_TIME" jdbcType="DATE" property="importTime" />
    <result column="IMPORT_PERSON" jdbcType="VARCHAR" property="importPerson" />
    <result column="OGA_MODE" jdbcType="CHAR" property="ogaMode" />
    <result column="DATA_SOURCE" jdbcType="CHAR" property="dataSource" />
    <result column="A0100" jdbcType="VARCHAR" property="a0100" />
    <result column="OGE_STATUS" jdbcType="CHAR" property="ogeStatus" />
    <result column="NAME" jdbcType="VARCHAR" property="name" />
    <result column="SEX" jdbcType="VARCHAR" property="sex" />
    <result column="BIRTH_DATE" jdbcType="DATE" property="birthDate" />
    <result column="NATIONALITY" jdbcType="VARCHAR" property="nationality" />
    <result column="ID_TYPE" jdbcType="CHAR" property="idType" />
    <result column="ID_NUMBER" jdbcType="VARCHAR" property="idNumber" />
    <result column="DESTINATION" jdbcType="VARCHAR" property="destination" />
    <result column="ENTRACE_EXIT" jdbcType="VARCHAR" property="entraceExit" />
    <result column="OGE_DATE" jdbcType="DATE" property="ogeDate" />
    <result column="VALID_UNTIL" jdbcType="DATE" property="validUntil" />
    <result column="VISITING_TASKS" jdbcType="VARCHAR" property="visitingTasks" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed May 20 20:17:11 CST 2020.
    -->
    ID, IMPORT_TIME, IMPORT_PERSON, OGA_MODE, DATA_SOURCE, A0100, OGE_STATUS, NAME, SEX, 
    BIRTH_DATE, NATIONALITY, ID_TYPE, ID_NUMBER, DESTINATION, ENTRACE_EXIT, OGE_DATE, 
    VALID_UNTIL, VISITING_TASKS
  </sql>

  <select id="selectEntryexitRecordIPage" parameterType="com.hxoms.modules.omsregcadre.entity.paramentity.OmsEntryexitRecordIPagParam" resultMap="BaseResultMap">
    select * from oms_entryexit_record where 1=1
    <if test="entryexitrecord.name!=null and entryexitrecord.name!=''">
      AND CONCAT(IFNULLLL(SURNAME,''),IFNULLLL(NAME,'')) LIKE '%${entryexitrecord.name}%'
    </if>
    <if test="entryexitrecord.dataSource!=null and entryexitrecord.dataSource!=''">
      AND DATA_SOURCE = #{entryexitrecord.dataSource}
    </if>
    <if test="entryexitrecord.ogeStatus!=null and entryexitrecord.ogeStatus!=''">
      AND ORG_STATUS = #{entryexitrecord.ogeStatus}
    </if>
    <if test="entryexitrecord.ogeStartDate != null">
      and to_char(OGE_DATE,'yyyyMMdd') <![CDATA[>=]]>#{entryexitrecord.ogeStartDate}
    </if>
    <if test="entryexitrecord.ogeEndDate != null">
      and to_char(OGE_DATE,'yyyyMMdd') <![CDATA[<=]]>#{entryexitrecord.ogeEndDate}
    </if>
  </select>
</mapper>