<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hxoms.modules.sysUser.mapper.CfUserMapper">
  <resultMap id="BaseResultMap" type="com.hxoms.modules.sysUser.entity.CfUser">
    <id column="user_id" jdbcType="VARCHAR" property="userId" />
    <result column="user_name" jdbcType="VARCHAR" property="userName" />
    <result column="user_code" jdbcType="VARCHAR" property="userCode" />
    <result column="user_type" jdbcType="CHAR" property="userType" />
    <result column="user_state" jdbcType="CHAR" property="userState" />
    <result column="user_photo" jdbcType="VARCHAR" property="userPhoto" />
    <result column="user_email" jdbcType="VARCHAR" property="userEmail" />
    <result column="user_mobile" jdbcType="VARCHAR" property="userMobile" />
    <result column="user_password" jdbcType="VARCHAR" property="userPassword" />
    <result column="order_index" jdbcType="INTEGER" property="orderIndex" />
    <result column="org_id" jdbcType="VARCHAR" property="orgId" />
    <result column="modify_user" jdbcType="VARCHAR" property="modifyUser" />
    <result column="modify_time" jdbcType="TIMESTAMP" property="modifyTime" />
    <result column="org_name" jdbcType="VARCHAR" property="orgName" />
    <result column="USER_EXPIRE" jdbcType="TIMESTAMP" property="userExpire" />
    <result column="USER_LOGINFAILNUM" jdbcType="INTEGER" property="userLoginfailnum" />
    <result column="CREATOR" jdbcType="VARCHAR" property="creator" />
    <result column="CREATETIME" jdbcType="TIMESTAMP" property="createtime" />
    <result column="IP" jdbcType="VARCHAR" property="ip" />
    <result column="A0100" jdbcType="VARCHAR" property="a0100" />
    <result column="Registe_residence" jdbcType="VARCHAR" property="registeResidence" />
    <result column="CARD_ISSUING_AUTHORITY" jdbcType="VARCHAR" property="cardIssuingAuthority" />
    <result column="CARE_START_DATE" jdbcType="TIMESTAMP" property="careStartDate" />
    <result column="CARD_EXPIRY_DATE" jdbcType="TIMESTAMP" property="cardExpiryDate" />
    <result column="CARD_PHYSICAL_ID" jdbcType="VARCHAR" property="cardPhysicalId" />
    <result column="FINGERPRINT_1" jdbcType="LONGVARCHAR" property="fingerprint1" />
    <result column="FINGERPRINT_2" jdbcType="LONGVARCHAR" property="fingerprint2" />
    <result column="IDNUMBER" jdbcType="VARCHAR" property="idnumber" />
    <result column="POLITICAL_AFFI" jdbcType="VARCHAR" property="politicalAffi" />
  </resultMap>

  <sql id="Base_Column_List">
    user_id, user_name, user_code, user_type, user_state, user_photo, user_email, user_mobile, 
    user_password, order_index, org_id, modify_user, modify_time, org_name, USER_EXPIRE, 
    USER_LOGINFAILNUM, CREATOR, CREATETIME, IP, A0100, Registe_residence, CARD_ISSUING_AUTHORITY,
    CARE_START_DATE, CARD_EXPIRY_DATE, CARD_PHYSICAL_ID,FINGERPRINT_1, FINGERPRINT_2, IDNUMBER,POLITICAL_AFFI
  </sql>

    <select id="getSysUserList" parameterType="string" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from cf_user
        <where>
            <if test='orgId != null and orgId != ""'>
                and org_id = #{orgId}
            </if>
            <if test='userName != null and userName != ""'>
                and (user_name like CONCAT('%',#{userName},'%')
                or user_code like CONCAT('%',#{userName},'%'))
            </if>
        </where>
    </select>
    <insert id="insertSelective" parameterType="com.hxoms.modules.sysUser.entity.CfUser">
        insert into cf_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="userId != null">
                user_id,
            </if>
            <if test="userName != null">
                user_name,
            </if>
            <if test="userCode != null">
                user_code,
            </if>
            <if test="userType != null">
                user_type,
            </if>
            <if test="userState != null">
                user_state,
            </if>
            <if test="userPhoto != null">
                user_photo,
            </if>
            <if test="userEmail != null">
                user_email,
            </if>
            <if test="userMobile != null">
                user_mobile,
            </if>
            <if test="userPassword != null">
                user_password,
            </if>
            <if test="orderIndex != null">
                order_index,
            </if>
            <if test="orgId != null">
                org_id,
            </if>
            <if test="modifyUser != null">
                modify_user,
            </if>
            <if test="modifyTime != null">
                modify_time,
            </if>
            <if test="orgName != null">
                org_name,
            </if>
            <if test="userExpire != null">
                USER_EXPIRE,
            </if>
            <if test="userLoginfailnum != null">
                USER_LOGINFAILNUM,
            </if>
            <if test="creator != null">
                CREATOR,
            </if>
            <if test="createtime != null">
                CREATETIME,
            </if>
            <if test="ip != null">
                IP,
            </if>
            <if test="a0100 != null">
                A0100,
            </if>
            <if test="registeResidence != null">
                Registe_residence,
            </if>
            <if test="cardIssuingAuthority != null">
                CARD_ISSUING_AUTHORITY,
            </if>
            <if test="careStartDate != null">
                CARE_START_DATE,
            </if>
            <if test="cardExpiryDate != null">
                CARD_EXPIRY_DATE,
            </if>
            <if test="cardPhysicalId != null">
                CARD_PHYSICAL_ID,
            </if>
            <if test="fingerprint1 != null">
                FINGERPRINT_1,
            </if>
            <if test="fingerprint2 != null">
                FINGERPRINT_2,
            </if>
            <if test="idnumber != null">
                IDNUMBER,
            </if>
            <if test="politicalAffi != null">
                POLITICAL_AFFI,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="userId != null">
                #{userId,jdbcType=VARCHAR},
            </if>
            <if test="userName != null">
                #{userName,jdbcType=VARCHAR},
            </if>
            <if test="userCode != null">
                #{userCode,jdbcType=VARCHAR},
            </if>
            <if test="userType != null">
                #{userType,jdbcType=CHAR},
            </if>
            <if test="userState != null">
                #{userState,jdbcType=CHAR},
            </if>
            <if test="userPhoto != null">
                #{userPhoto,jdbcType=VARCHAR},
            </if>
            <if test="userEmail != null">
                #{userEmail,jdbcType=VARCHAR},
            </if>
            <if test="userMobile != null">
                #{userMobile,jdbcType=VARCHAR},
            </if>
            <if test="userPassword != null">
                #{userPassword,jdbcType=VARCHAR},
            </if>
            <if test="orderIndex != null">
                #{orderIndex,jdbcType=INTEGER},
            </if>
            <if test="orgId != null">
                #{orgId,jdbcType=VARCHAR},
            </if>
            <if test="modifyUser != null">
                #{modifyUser,jdbcType=VARCHAR},
            </if>
            <if test="modifyTime != null">
                #{modifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="orgName != null">
                #{orgName,jdbcType=VARCHAR},
            </if>
            <if test="userExpire != null">
                #{userExpire,jdbcType=TIMESTAMP},
            </if>
            <if test="userLoginfailnum != null">
                #{userLoginfailnum,jdbcType=INTEGER},
            </if>
            <if test="creator != null">
                #{creator,jdbcType=VARCHAR},
            </if>
            <if test="createtime != null">
                #{createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="ip != null">
                #{ip,jdbcType=VARCHAR},
            </if>
            <if test="a0100 != null">
                #{a0100,jdbcType=VARCHAR},
            </if>
            <if test="registeResidence != null">
                #{registeResidence,jdbcType=VARCHAR},
            </if>
            <if test="cardIssuingAuthority != null">
                #{cardIssuingAuthority,jdbcType=VARCHAR},
            </if>
            <if test="careStartDate != null">
                #{careStartDate,jdbcType=TIMESTAMP},
            </if>
            <if test="cardExpiryDate != null">
                #{cardExpiryDate,jdbcType=TIMESTAMP},
            </if>
            <if test="cardPhysicalId != null">
                #{cardPhysicalId,jdbcType=VARCHAR},
            </if>
            <if test="fingerprint1 != null">
                #{fingerprint1,jdbcType=LONGVARCHAR},
            </if>
            <if test="fingerprint2 != null">
                #{fingerprint2,jdbcType=LONGVARCHAR},
            </if>
            <if test="idnumber != null">
                #{idnumber,jdbcType=VARCHAR}
            </if>
            <if test="politicalAffi != null">
                #{politicalAffi,jdbcType=VARCHAR}
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.hxoms.modules.sysUser.entity.CfUser">
        update cf_user
        <set>
            <if test="userName != null">
                user_name = #{userName,jdbcType=VARCHAR},
            </if>
            <if test="userCode != null">
                user_code = #{userCode,jdbcType=VARCHAR},
            </if>
            <if test="userType != null">
                user_type = #{userType,jdbcType=CHAR},
            </if>
            <if test="userState != null">
                user_state = #{userState,jdbcType=CHAR},
            </if>
            <if test="userPhoto != null">
                user_photo = #{userPhoto,jdbcType=VARCHAR},
            </if>
            <if test="userEmail != null">
                user_email = #{userEmail,jdbcType=VARCHAR},
            </if>
            <if test="userMobile != null">
                user_mobile = #{userMobile,jdbcType=VARCHAR},
            </if>
            <if test="userPassword != null">
                user_password = #{userPassword,jdbcType=VARCHAR},
            </if>
            <if test="orderIndex != null">
                order_index = #{orderIndex,jdbcType=INTEGER},
            </if>
            <if test="orgId != null">
                org_id = #{orgId,jdbcType=VARCHAR},
            </if>
            <if test="modifyUser != null">
                modify_user = #{modifyUser,jdbcType=VARCHAR},
            </if>
            <if test="modifyTime != null">
                modify_time = #{modifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="orgName != null">
                org_name = #{orgName,jdbcType=VARCHAR},
            </if>
            <if test="userExpire != null">
                USER_EXPIRE = #{userExpire,jdbcType=TIMESTAMP},
            </if>
            <if test="userLoginfailnum != null">
                USER_LOGINFAILNUM = #{userLoginfailnum,jdbcType=INTEGER},
            </if>
            <if test="creator != null">
                CREATOR = #{creator,jdbcType=VARCHAR},
            </if>
            <if test="createtime != null">
                CREATETIME = #{createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="ip != null">
                IP = #{ip,jdbcType=VARCHAR},
            </if>
            <if test="a0100 != null">
                A0100 = #{a0100,jdbcType=VARCHAR},
            </if>
            <if test="registeResidence != null">
                Registe_residence = #{registeResidence,jdbcType=VARCHAR},
            </if>
            <if test="cardIssuingAuthority != null">
                CARD_ISSUING_AUTHORITY = #{cardIssuingAuthority,jdbcType=VARCHAR},
            </if>
            <if test="careStartDate != null">
                CARE_START_DATE = #{careStartDate,jdbcType=TIMESTAMP},
            </if>
            <if test="cardExpiryDate != null">
                CARD_EXPIRY_DATE = #{cardExpiryDate,jdbcType=TIMESTAMP},
            </if>
            <if test="cardPhysicalId != null">
                CARD_PHYSICAL_ID = #{cardPhysicalId,jdbcType=VARCHAR},
            </if>
            <if test="fingerprint1 != null">
                FINGERPRINT_1 = #{fingerprint1,jdbcType=LONGVARCHAR},
            </if>
            <if test="fingerprint2 != null">
                FINGERPRINT_2 = #{fingerprint2,jdbcType=LONGVARCHAR},
            </if>
            <if test="idnumber != null">
                IDNUMBER = #{idnumber,jdbcType=VARCHAR},
            </if>
            <if test="politicalAffi != null">
                POLITICAL_AFFI = #{politicalAffi,jdbcType=VARCHAR}
            </if>
        </set>
        where user_id = #{userId,jdbcType=VARCHAR}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.String" resultType="com.hxoms.modules.sysUser.entity.CfUser">
        select
        <include refid="Base_Column_List"/>
        from cf_user
        <where>
            <if test='userName != null and userName != ""'>
                and (user_name like CONCAT('%',#{userName},'%')
                or user_code like CONCAT('%',#{userName},'%'))
            </if>
        </where>
    </select>
    <select id="selectPassword" resultType="java.lang.String">
        select
        user_password
        from cf_user
        where user_id = #{userId,jdbcType=VARCHAR}
    </select>
    <select id="selectSysUserByUserId" resultType="com.hxoms.modules.sysUser.entity.CfUser">
        select
        *
        from cf_user
        where user_id = #{userId,jdbcType=VARCHAR}
    </select>
    <select id="selectByUserCode" resultType="com.hxoms.modules.sysUser.entity.CfUser">
        select
        *
        from cf_user
        where user_code = #{userCode,jdbcType=VARCHAR}
    </select>
    <select id="getSysUserListByParm" resultType="com.hxoms.modules.sysUser.entity.CfUser">
        select
        <include refid="Base_Column_List"/>
        from cf_user
        <where>
            <if test='orgId != null and orgId != ""'>
                and org_id = #{orgId}
            </if>
            <if test='userType != null and userType != ""'>
                and user_type = #{userType}
            </if>
        </where>
    </select>
    <select id="getOperatorByIdnumAndState" resultType="com.hxoms.modules.sysUser.entity.CfUser">
        select
        <include refid="Base_Column_List"/>
        from cf_user
        <where>
            <if test='idnumber != null and idnumber != ""'>
                and IDNUMBER = #{idnumber}
            </if>
            <if test='userType != null and userType != ""'>
                and user_type = #{userType}
            </if>
            <if test='state != null and userType != ""'>
                and user_state = #{state,jdbcType=CHAR}
            </if>
        </where>

    </select>
    <select id="getOperatorByNameOrState" resultType="com.hxoms.modules.sysUser.entity.CfUser">
        select * from cf_user
        <where>
            <if test='name != null and name != ""'>
                and (user_name = #{name}
                or user_code = #{name} )
            </if>
            <if test='state != null and state != ""'>
                and user_state in
                <foreach collection="list" item="user_state" separator="," open="(" close=")">
                    #{user_state}
                </foreach>
            </if>
        </where>
    </select>

    <insert id="insert" parameterType="com.hxoms.modules.sysUser.entity.CfUser">
    insert into cf_user (user_id, user_name, user_code, 
      user_type, user_state, user_photo, 
      user_email, user_mobile, user_password, 
      order_index, org_id, modify_user, 
      modify_time, org_name, USER_EXPIRE, 
      USER_LOGINFAILNUM, CREATOR, CREATETIME, 
      IP, A0100, Registe_residence, 
      CARD_ISSUING_AUTHORITY, CARE_START_DATE, 
      CARD_EXPIRY_DATE, CARD_PHYSICAL_ID, FINGERPRINT_1, 
      FINGERPRINT_2, IDNUMBER,POLITICAL_AFFI)
    values (#{userId,jdbcType=VARCHAR}, #{userName,jdbcType=VARCHAR}, #{userCode,jdbcType=VARCHAR}, 
      #{userType,jdbcType=CHAR}, #{userState,jdbcType=CHAR}, #{userPhoto,jdbcType=VARCHAR}, 
      #{userEmail,jdbcType=VARCHAR}, #{userMobile,jdbcType=VARCHAR}, #{userPassword,jdbcType=VARCHAR}, 
      #{orderIndex,jdbcType=INTEGER}, #{orgId,jdbcType=VARCHAR}, #{modifyUser,jdbcType=VARCHAR}, 
      #{modifyTime,jdbcType=TIMESTAMP}, #{orgName,jdbcType=VARCHAR}, #{userExpire,jdbcType=TIMESTAMP}, 
      #{userLoginfailnum,jdbcType=INTEGER}, #{creator,jdbcType=VARCHAR}, #{createtime,jdbcType=TIMESTAMP}, 
      #{ip,jdbcType=VARCHAR}, #{a0100,jdbcType=VARCHAR}, #{registeResidence,jdbcType=VARCHAR}, 
      #{cardIssuingAuthority,jdbcType=VARCHAR}, #{careStartDate,jdbcType=TIMESTAMP}, 
      #{cardExpiryDate,jdbcType=TIMESTAMP}, #{cardPhysicalId,jdbcType=VARCHAR}, #{fingerprint1,jdbcType=LONGVARCHAR}, 
      #{fingerprint2,jdbcType=LONGVARCHAR},#{idnumber,jdbcType=VARCHAR},#{politicalAffi,jdbcType=VARCHAR})
  </insert>



  <update id="updateByPrimaryKey" parameterType="com.hxoms.modules.sysUser.entity.CfUser">
    update cf_user
    set user_name = #{userName,jdbcType=VARCHAR},
      user_code = #{userCode,jdbcType=VARCHAR},
      user_type = #{userType,jdbcType=CHAR},
      user_state = #{userState,jdbcType=CHAR},
      user_photo = #{userPhoto,jdbcType=VARCHAR},
      user_email = #{userEmail,jdbcType=VARCHAR},
      user_mobile = #{userMobile,jdbcType=VARCHAR},
      user_password = #{userPassword,jdbcType=VARCHAR},
      order_index = #{orderIndex,jdbcType=INTEGER},
      org_id = #{orgId,jdbcType=VARCHAR},
      modify_user = #{modifyUser,jdbcType=VARCHAR},
      modify_time = #{modifyTime,jdbcType=TIMESTAMP},
      org_name = #{orgName,jdbcType=VARCHAR},
      USER_EXPIRE = #{userExpire,jdbcType=TIMESTAMP},
      USER_LOGINFAILNUM = #{userLoginfailnum,jdbcType=INTEGER},
      CREATOR = #{creator,jdbcType=VARCHAR},
      CREATETIME = #{createtime,jdbcType=TIMESTAMP},
      IP = #{ip,jdbcType=VARCHAR},
      A0100 = #{a0100,jdbcType=VARCHAR},
      Registe_residence = #{registeResidence,jdbcType=VARCHAR},
      CARD_ISSUING_AUTHORITY = #{cardIssuingAuthority,jdbcType=VARCHAR},
      CARE_START_DATE = #{careStartDate,jdbcType=TIMESTAMP},
      CARD_EXPIRY_DATE = #{cardExpiryDate,jdbcType=TIMESTAMP},
      CARD_PHYSICAL_ID = #{cardPhysicalId,jdbcType=VARCHAR},
      FINGERPRINT_1 = #{fingerprint1,jdbcType=LONGVARCHAR},
      FINGERPRINT_2 = #{fingerprint2,jdbcType=LONGVARCHAR},
      IDNUMBER = #{idnumber,jdbcType=VARCHAR},
      POLITICAL_AFFI = #{politicalAffi,jdbcType=VARCHAR}
    where user_id = #{userId,jdbcType=VARCHAR}
  </update>
    <update id="updatePassword" >
        update cf_user
        <set>
            <if test="password != null">
                user_password = #{password,jdbcType=VARCHAR}
            </if>
        </set>
        where
        user_id = #{userId,jdbcType=VARCHAR}
    </update>
    <update id="updateUserState">
        update cf_user
        <set>
            <if test="state != null">
                user_state = #{state,jdbcType=CHAR}
            </if>
        </set>
        where
        user_id = #{userId,jdbcType=VARCHAR}
    </update>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from cf_user
    where user_id = #{userId,jdbcType=VARCHAR}
  </delete>
</mapper>