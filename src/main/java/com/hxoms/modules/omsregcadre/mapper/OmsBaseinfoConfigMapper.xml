<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hxoms.modules.omsregcadre.mapper.OmsBaseinfoConfigMapper">
  <resultMap id="BaseResultMap" type="com.hxoms.modules.omsregcadre.entity.OmsBaseinfoConfig">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 27 19:34:57 CST 2020.
    -->
    <id column="ID" jdbcType="VARCHAR" property="id" />
    <result column="INFO_ID" jdbcType="VARCHAR" property="infoId" />
    <result column="PARENT_ID" jdbcType="VARCHAR" property="parentId" />
    <result column="INFO_NAME" jdbcType="VARCHAR" property="infoName" />
    <result column="DICT_CODE" jdbcType="VARCHAR" property="dictCode" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 27 19:34:57 CST 2020.
    -->
    ID, INFO_ID, PARENT_ID, INFO_NAME, DICT_CODE
  </sql>
  <select id="selectCGJPostTree" parameterType="java.lang.String" resultType="com.hxoms.common.tree.Tree">
    select INFO_ID as "id",PARENT_ID as "pId",INFO_NAME as "label" from oms_baseinfo_config
    WHERE DICT_CODE =#{dictCode} ORDER BY INFO_ID
  </select>

  <insert id="insertBatchList" parameterType="java.util.List">
      insert into oms_baseinfo_config (ID, INFO_ID, PARENT_ID, INFO_NAME, DICT_CODE)
        values
      <foreach collection="list" item="item" index="index" separator=",">
        (#{item.id,jdbcType=VARCHAR},
          #{item.infoId,jdbcType=VARCHAR},
          #{item.parentId,jdbcType=VARCHAR},
          #{item.infoName,jdbcType=VARCHAR},
          #{item.dictCode,jdbcType=VARCHAR}
        )
      </foreach>

  </insert>


  <delete id="deleteBaseInfoConfig" parameterType="java.util.List" >
      delete from oms_baseinfo_config where INFO_ID in
      <foreach collection="list" item="infoId" index="no" open="(" separator="," close=")">
          #{infoId}
      </foreach>
  </delete>
</mapper>