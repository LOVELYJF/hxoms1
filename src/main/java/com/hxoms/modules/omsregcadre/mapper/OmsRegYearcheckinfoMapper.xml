<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hxoms.modules.omsregcadre.mapper.OmsRegYearcheckinfoMapper">
  <resultMap id="BaseResultMap" type="com.hxoms.modules.omsregcadre.entity.OmsRegYearcheckinfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 11 16:49:14 CST 2020.
    -->
    <id column="ID" jdbcType="VARCHAR" property="id" />
    <result column="A0100" jdbcType="VARCHAR" property="a0100" />
    <result column="RF_ID" jdbcType="VARCHAR" property="rfId" />
    <result column="RF_B0000" jdbcType="VARCHAR" property="rfB0000" />
    <result column="INBOUND_FLAG" jdbcType="CHAR" property="inboundFlag" />
    <result column="RF_STATUS" jdbcType="CHAR" property="rfStatus" />
    <result column="CHECK_STATUS" jdbcType="CHAR" property="checkStatus" />
    <result column="INCUMBENCY_STATUS" jdbcType="CHAR" property="incumbencyStatus" />
    <result column="DATA_TYPE" jdbcType="CHAR" property="dataType" />
    <result column="SURNAME" jdbcType="VARCHAR" property="surname" />
    <result column="NAME" jdbcType="VARCHAR" property="name" />
    <result column="SEX" jdbcType="VARCHAR" property="sex" />
    <result column="BIRTH_DATE" jdbcType="DATE" property="birthDate" />
    <result column="NATION" jdbcType="VARCHAR" property="nation" />
    <result column="IDNUMBER" jdbcType="CHAR" property="idnumber" />
    <result column="POLITICAL_AFFI" jdbcType="VARCHAR" property="politicalAffi" />
    <result column="HEALTH" jdbcType="VARCHAR" property="health" />
    <result column="REGISTE_RESIDENCE_CODE" jdbcType="VARCHAR" property="registeResidenceCode" />
    <result column="REGISTE_RESIDENCE" jdbcType="VARCHAR" property="registeResidence" />
    <result column="WORK_UNIT" jdbcType="VARCHAR" property="workUnit" />
    <result column="POST_CODE" jdbcType="VARCHAR" property="postCode" />
    <result column="POST" jdbcType="VARCHAR" property="post" />
    <result column="PERSON_MANAGER" jdbcType="VARCHAR" property="personManager" />
    <result column="IDENTITY_CODE" jdbcType="CHAR" property="identityCode" />
    <result column="IDENTITY" jdbcType="VARCHAR" property="identity" />
    <result column="SECRET_LEVEL" jdbcType="VARCHAR" property="secretLevel" />
    <result column="DECRYPT_STARTDATE" jdbcType="DATE" property="decryptStartdate" />
    <result column="DECRYPT_ENDDATE" jdbcType="DATE" property="decryptEnddate" />
    <result column="MAIN_LEADER" jdbcType="CHAR" property="mainLeader" />
    <result column="LICENCE_IDENTITY" jdbcType="INTEGER" property="licenceIdentity" />
    <result column="NF" jdbcType="CHAR" property="nf" />
    <result column="FJGNF" jdbcType="VARCHAR" property="fjgnf" />
    <result column="XRXGW" jdbcType="VARCHAR" property="xrxgw" />
    <result column="LQGZ" jdbcType="VARCHAR" property="lqgz" />
    <result column="DQGZ" jdbcType="VARCHAR" property="dqgz" />
    <result column="REPLYOPINION" jdbcType="CHAR" property="replyopinion" />
    <result column="ABROADTIME" jdbcType="DATE" property="abroadtime" />
    <result column="REASON" jdbcType="VARCHAR" property="reason" />
    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
    <result column="CREATE_USER" jdbcType="VARCHAR" property="createUser" />
    <result column="SORT_ID" jdbcType="INTEGER" property="sortId" />
    <result column="PY" jdbcType="VARCHAR" property="py" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 11 16:49:14 CST 2020.
    -->
    ID, A0100, RF_ID, RF_B0000, INBOUND_FLAG, RF_STATUS, CHECK_STATUS, INCUMBENCY_STATUS,
    DATA_TYPE, SURNAME, NAME, SEX, BIRTH_DATE, NATION, IDNUMBER, POLITICAL_AFFI, HEALTH, 
    REGISTE_RESIDENCE_CODE, REGISTE_RESIDENCE, WORK_UNIT, POST_CODE, POST, PERSON_MANAGER, 
    IDENTITY_CODE, IDENTITY, SECRET_LEVEL, DECRYPT_STARTDATE, DECRYPT_ENDDATE, MAIN_LEADER, 
    LICENCE_IDENTITY, NF, FJGNF, XRXGW, LQGZ, DQGZ, REPLYOPINION, ABROADTIME, REASON,
    CREATE_DATE, CREATE_USER, MODIFY_TIME, MODIFY_USER, SORT_ID, PY
  </sql>

  <select id="selectYearList" resultType="java.lang.String">
    select CREATE_DATE from oms_reg_yearcheckinfo group by CREATE_DATE
  </select>

  <select id="selectCheckModelList" parameterType="java.lang.String" resultType="com.hxoms.modules.omsregcadre.entity.ExcelCheckModelORPinfo">
    select
    T_1.item_name as SEX ,
    T_2.item_name as RF_B0000,
    T_3.item_name as INCUMBENCY_STATUS,
    T_4.item_name as RF_STATUS,
    T_5.item_name as CHECK_STATUS,
    T_6.item_name as POLITICAL_AFFI,
    T_7.item_name as SECRET_LEVEL,
    a.RF_ID, a.INBOUND_FLAG,
    a.DATA_TYPE, a.SURNAME, a.NAME, a.BIRTH_DATE, a.NATION, a.IDNUMBER,
    a.REGISTE_RESIDENCE_CODE, a.REGISTE_RESIDENCE, a.WORK_UNIT, a.POST_CODE, a.POST, a.PERSON_MANAGER,
    a.IDENTITY_CODE, a.IDENTITY, a.DECRYPT_STARTDATE, a.DECRYPT_ENDDATE, a.MAIN_LEADER,
    a.LICENCE_IDENTITY, a.NF, a.FJGNF, a.XRXGW, a.LQGZ, a.DQGZ, a.REPLYOPINION, a.ABROADTIME, a.REASON
    from oms_reg_yearcheckinfo a
    LEFT JOIN  (SELECT T_1.item_code,T_1.item_name FROM SYS_DICT_ITEM T_1,SYS_DICT sd WHERE sd.DICT_CODE = 'GB2261'
    AND T_1.DICT_CODE = sd.DICT_CODE) T_1 ON a.SEX = T_1.item_code
    LEFT JOIN  (SELECT T_2.item_code,T_2.item_name FROM SYS_DICT_ITEM T_2,SYS_DICT sd WHERE sd.DICT_CODE = 'Hasng013'
    AND T_2.DICT_CODE = sd.DICT_CODE) T_2 ON a.RF_B0000 = T_2.item_code
    LEFT JOIN  (SELECT T_3.item_code,T_3.item_name FROM SYS_DICT_ITEM T_3,SYS_DICT sd WHERE sd.DICT_CODE = 'ZZZT'
    AND T_3.DICT_CODE = sd.DICT_CODE) T_3 ON a.INCUMBENCY_STATUS = T_3.item_code
    LEFT JOIN  (SELECT T_4.item_code,T_4.item_name FROM SYS_DICT_ITEM T_4,SYS_DICT sd WHERE sd.DICT_CODE = 'BAZT'
    AND T_4.DICT_CODE = sd.DICT_CODE) T_4 ON a.RF_STATUS = T_4.item_code
    LEFT JOIN  (SELECT T_5.item_code,T_5.item_name FROM SYS_DICT_ITEM T_5,SYS_DICT sd WHERE sd.DICT_CODE = 'YSZT'
    AND T_5.DICT_CODE = sd.DICT_CODE) T_5 ON a.CHECK_STATUS = T_5.item_code
    LEFT JOIN  (SELECT T_6.item_code,T_6.item_name FROM SYS_DICT_ITEM T_6,SYS_DICT sd WHERE sd.DICT_CODE = 'GB4762'  -- 政治面貌
    AND T_6.DICT_CODE = sd.DICT_CODE) T_6 ON a.POLITICAL_AFFI = T_6.item_code
    LEFT JOIN  (SELECT T_7.item_code,T_7.item_name FROM SYS_DICT_ITEM T_7,SYS_DICT sd WHERE sd.DICT_CODE = 'SMDJ'  -- 涉密等级
    AND T_7.DICT_CODE = sd.DICT_CODE) T_7 ON a.SECRET_LEVEL = T_7.item_code
    <if test="year!=null and year!=''">
      AND a.CREATE_DATE = #{year}
    </if>
  </select>
</mapper>